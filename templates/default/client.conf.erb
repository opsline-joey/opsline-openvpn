# OpenVPN client configuration file
# Generated by Chef - local changes will be overwritten!

# Please refer to the OpenVPN documentation for details on
# configuration settings.

client
dev <%= @config.key?('device') ? @config['device'] : 'tun' %>
proto <%= @config['proto'] %>
remote <%= @config['gateway'] %> <%= @config['port'] %>
resolv-retry infinite
nobind
persist-key
persist-tun
ca <%= @config['base_dir'] %>/keys/ca.crt
cert <%= @config['base_dir'] %>/keys/<%= @config['user_name'] %>.crt
key <%= @config['base_dir'] %>/keys/<%= @config['user_name'] %>.key
comp-lzo
verb 3
<% if @config['tls_key'] -%>
tls-auth <%= @config['base_dir'] %>/keys/<%= @config['tls_key'] %> 1
<% end -%>
